<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style>
	
  </style>
  <script>
	/*
		var n=1,s="str",b=true,nu=null,un=undefined;
		function fn(){};
		var obj1=[1,3,2];//.class="Array"
		var obj2={};//.class="Object"
		var obj3={};//.class="Object"
		obj3.__proto__=obj1;	//间接继承obj1的prototype	
		obj3.push(4);
		obj3.sort();	//可使用间接父类的API
		Array.prototype.push.call(obj2,1);	//obj2.push(1); 除了obj2,后面的参数都是给push()方法的
	*/
	/*
		console.log(
			typeof(n),
			typeof(s),
			typeof(b),
			typeof(nu),
			typeof(un),
			typeof(fn),
			typeof(obj1),
			typeof(obj2)
		);
	*/
	
	/*1. 判断原型对象：
	console.log(
		//obj1.__proto__ == Array.prototype,	//是内部属性，浏览器可能不允许使用
		//Object.getPrototypeOf(obj1) == Array.prototype,
		//Object.getPrototypeOf(obj2) == Array.prototype,
		//Object.getPrototypeOf(obj3) == Array.prototype,	//间接继承obj1的prototype，但是直接继承的是Object,判断直接父级
		Array.prototype.isPrototypeOf(obj1),
		Array.prototype.isPrototypeOf(obj2),
		Array.prototype.isPrototypeOf(obj3)	 //不但检查直接父对象，而且检查整个原型链
	);*/

	/*2. 判断构造函数
	console.log(
		//obj1.constructor == Array,
		obj1 instanceof Array, //实例化,检查整个原型链
		//obj2.constructor == Array,
		obj2 instanceof Array,
		//obj3.constructor == Array
		obj3 instanceof Array
	);*/
	

	/*3. 判断对象内部的属性, class, 
		内部属性不让访问，只有一个解决办法，Object.prototype,toString() -> [object Class]
	
	
	//call()
	console.log(
		Object.prototype.toString.call(obj1) == '[object Array]',
		//调用一瞬间，相当于：obj1.toString()
		Object.prototype.toString.call(obj2) == '[object Array]',
		Object.prototype.toString.call(obj3) == '[object Array]'	
	);*/

	/*4. Array.isArray()
	console.log(
		//ES5 新增，IE8不支持
		Array.isArray(obj1),	
		Array.isArray(obj2),	
		Array.isArray(obj3)	
	);*/
	
	//IE8支持
	if(Array.isArray === undefined)
		Array.isArray = function(obj){
			return Object.prototype.toString.call(obj) == '[object Array]';
		}

	var obj1=[], obj2={}, obj3=function(){};
	obj3.__proto__ = obj1;

	document.write(
		Array.isArray(obj1)+'<br />'+
		Array.isArray(obj2)+'<br />'+
		Array.isArray(obj3)+'<br />'
	);

  </script>
 </head>
 <body>

 </body>
</html>
